(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{79655:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return t(6746)}])},6746:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return B}});var r=t(14924),i=t(85893),s=t(67294),a=t(5616),c=t(66242),o=t(57610),l=t(63144),u=t(45670),d=t(90948),h=t(40044),x=t(23808),g=t(47568),m=t(10797),p=t(97582),Z=t(5121),f=t(58703),j=t(46901),v=t(86886),C=t(50135),y=t(15861),b=t(93946),P=t(44267),S=t(69417),k=t(42734),w=((0,d.ZP)(S.Z)((function(n){var e=n.theme;return(0,r.Z)({},e.breakpoints.down("sm"),{width:"100%",textAlign:"center"})})),(0,d.ZP)(S.Z)((function(n){var e=n.theme;return(0,r.Z)({marginLeft:e.spacing(4.5)},e.breakpoints.down("sm"),{width:"100%",marginLeft:0,textAlign:"center",marginTop:e.spacing(4)})})),function(){var n=(0,s.useState)(!1),e=(n[0],n[1]),t=(0,s.useState)(!1),r=t[0],c=t[1],o=(0,s.useState)(""),l=o[0],u=o[1],d=(0,s.useState)(""),h=d[0],x=d[1],w=(0,s.useState)([]),_=w[0],E=w[1],B=(0,s.useState)(""),I=B[0],T=B[1],A=(0,s.useState)([]),R=A[0],N=A[1],D=(0,s.useState)(""),z=D[0],L=D[1],W=(0,s.useState)([]),H=W[0],O=W[1],X=(0,s.useState)(""),G=X[0],M=X[1],q=(0,s.useState)([]),F=q[0],J=q[1],K="undefined"!==typeof sessionStorage?sessionStorage.getItem("token"):null;(0,s.useEffect)((function(){var n=function(){var n=(0,g.Z)((function(){var n,e,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Z.Z.get("".concat("http://3.83.33.251:5000","/api/protected/getSettings"),{headers:{Authorization:"Bearer ".concat(K)},withCredentials:!0})];case 1:return n=r.sent(),e=n.data,u(e.appName),E(e.idTypes),N(e.estimatedConsumption),O(e.cannabisCategories),J(e.cannabisType),[3,3];case 2:return t=r.sent(),console.error("Error fetching settings:",t),[3,3];case 3:return[2]}}))}));return function(){return n.apply(this,arguments)}}();n()}),[]);var Q=function(n,e,t){n&&e((0,m.Z)(t).concat([n]))},U=function(n,e,t){var r=(0,m.Z)(e);r.splice(t,1),n(r)},V=function(){var n=(0,g.Z)((function(){var n,t,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:n={appName:l,idTypes:_,estimatedConsumption:R,cannabisCategories:H,cannabisTypes:F},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Z.Z.put("".concat("http://3.83.33.251:5000","/api/protected/updateSettings"),n,{headers:{Authorization:"Bearer ".concat(K)},withCredentials:!0})];case 2:return t=i.sent(),console.log("Settings updated successfully:",t.data),e(!0),c(!0),[3,4];case 3:return r=i.sent(),console.error("Error updating settings:",r),[3,4];case 4:return[2]}}))}));return function(){return n.apply(this,arguments)}}(),Y=function(){c(!1)};return(0,i.jsxs)(P.Z,{children:[(0,i.jsx)("form",{children:(0,i.jsxs)(v.ZP,{container:!0,spacing:7,children:[(0,i.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,i.jsx)(y.Z,{variant:"h6",sx:{marginBottom:3},children:"General Settings"}),(0,i.jsxs)(v.ZP,{container:!0,spacing:3,children:[(0,i.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsx)(C.Z,{fullWidth:!0,label:"App Name",placeholder:"My App",value:l,onChange:function(n){return u(n.target.value)}})}),(0,i.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,i.jsx)(y.Z,{variant:"subtitle1",children:"ID Types"}),(0,i.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",marginBottom:2},children:[(0,i.jsx)(C.Z,{value:h,onChange:function(n){return x(n.target.value)},placeholder:"Enter ID Type",sx:{marginRight:2}}),(0,i.jsx)(S.Z,{variant:"contained",onClick:function(){Q(h,E,_),x("")},children:"Add ID Type"})]}),(0,i.jsx)(a.Z,{children:_.map((function(n,e){return(0,i.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",marginBottom:2},children:[(0,i.jsx)(y.Z,{sx:{marginRight:2},children:n}),(0,i.jsx)(b.Z,{color:"error",onClick:function(){return U(E,_,e)},children:(0,i.jsx)(k.Z,{})})]},e)}))})]}),(0,i.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,i.jsx)(y.Z,{variant:"subtitle1",children:"Estimated Consumption"}),(0,i.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",marginBottom:2},children:[(0,i.jsx)(C.Z,{value:I,onChange:function(n){return T(n.target.value)},placeholder:"Enter Estimated Consumption",sx:{marginRight:2}}),(0,i.jsx)(S.Z,{variant:"contained",onClick:function(){Q(I,N,R),T("")},children:"Add Estimated Consumption"})]}),(0,i.jsx)(a.Z,{children:R.map((function(n,e){return(0,i.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",marginBottom:2},children:[(0,i.jsx)(y.Z,{sx:{marginRight:2},children:n}),(0,i.jsx)(b.Z,{color:"error",onClick:function(){return U(N,R,e)},children:(0,i.jsx)(k.Z,{})})]},e)}))})]})]})]}),(0,i.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,i.jsx)(y.Z,{variant:"h6",sx:{marginBottom:3},children:"Product Settings"}),(0,i.jsx)(v.ZP,{container:!0,spacing:3,children:(0,i.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,i.jsx)(y.Z,{variant:"subtitle1",children:"Cannabis Product Categories"}),(0,i.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",marginBottom:2},children:[(0,i.jsx)(C.Z,{value:z,onChange:function(n){return L(n.target.value)},placeholder:"Enter Cannabis Product Category",sx:{marginRight:2}}),(0,i.jsx)(S.Z,{variant:"contained",onClick:function(){Q(z,O,H),L("")},children:"Add Category"})]}),(0,i.jsx)(a.Z,{children:H.map((function(n,e){return(0,i.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",marginBottom:2},children:[(0,i.jsx)(y.Z,{sx:{marginRight:2},children:n}),(0,i.jsx)(b.Z,{color:"error",onClick:function(){return U(O,H,e)},children:(0,i.jsx)(k.Z,{})})]},e)}))})]})}),(0,i.jsx)(v.ZP,{container:!0,spacing:3,children:(0,i.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,i.jsx)(y.Z,{variant:"subtitle1",children:"Cannabis Product Types"}),(0,i.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",marginBottom:2},children:[(0,i.jsx)(C.Z,{value:G,onChange:function(n){return M(n.target.value)},placeholder:"Enter Cannabis Product Type",sx:{marginRight:2}}),(0,i.jsx)(S.Z,{variant:"contained",onClick:function(){Q(G,J,F),M("")},children:"Add Category"})]}),(0,i.jsx)(a.Z,{children:F.map((function(n,e){return(0,i.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",marginBottom:2},children:[(0,i.jsx)(y.Z,{sx:{marginRight:2},children:n}),(0,i.jsx)(b.Z,{color:"error",onClick:function(){return U(J,F,e)},children:(0,i.jsx)(k.Z,{})})]},e)}))})]})})]}),(0,i.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,i.jsx)(S.Z,{variant:"contained",color:"success",sx:{marginRight:3.5},onClick:V,children:"Save Changes"}),(0,i.jsx)(S.Z,{type:"reset",variant:"outlined",color:"secondary",children:"Reset"})]})]})}),(0,i.jsx)(f.Z,{open:r,autoHideDuration:6e3,onClose:Y,children:(0,i.jsx)(j.Z,{onClose:Y,severity:"success",elevation:6,variant:"filled",children:"Changes saved successfully!"})})]})}),_=(t(18698),(0,d.ZP)(h.Z)((function(n){var e,t=n.theme;return e={},(0,r.Z)(e,t.breakpoints.down("md"),{minWidth:100}),(0,r.Z)(e,t.breakpoints.down("sm"),{minWidth:67}),e}))),E=(0,d.ZP)("span")((function(n){var e=n.theme;return(0,r.Z)({lineHeight:1.71,fontSize:"0.875rem",marginLeft:e.spacing(2.4)},e.breakpoints.down("md"),{display:"none"})})),B=function(){var n=(0,s.useState)("account"),e=n[0],t=n[1];return(0,i.jsx)(c.Z,{children:(0,i.jsxs)(u.ZP,{value:e,children:[(0,i.jsx)(o.Z,{onChange:function(n,e){t(e)},"aria-label":"account-settings tabs",sx:{borderBottom:function(n){return"1px solid ".concat(n.palette.divider)}},children:(0,i.jsx)(_,{value:"account",label:(0,i.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(x.Z,{}),(0,i.jsx)(E,{children:"Settings"})]})})}),(0,i.jsx)(l.Z,{sx:{p:0},value:"account",children:(0,i.jsx)(w,{})})]})})}}},function(n){n.O(0,[2657,7709,8360,3678,200,696,9399,9774,2888,179],(function(){return e=79655,n(n.s=e);var e}));var e=n.O();_N_E=e}]);
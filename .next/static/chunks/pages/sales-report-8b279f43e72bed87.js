(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[989],{65283:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sales-report",function(){return a(37884)}])},56077:function(t,e,a){"use strict";var r=a(85893),n=a(5616),s=a(66242),o=a(87952),i=a(93946),c=a(15861),l=a(44267),u=function(t){var e=t.title,a=t.subtitle,u=t.color,d=t.icon,h=t.stats,p=t.trend,x=t.trendNumber;return(0,r.jsx)(s.Z,{children:(0,r.jsxs)(l.Z,{children:[(0,r.jsxs)(n.Z,{sx:{display:"flex",marginBottom:5.5,alignItems:"flex-start",justifyContent:"space-between"},children:[(0,r.jsx)(o.Z,{sx:{boxShadow:3,marginRight:4,color:"common.white",backgroundColor:"".concat(u,".main")},children:d}),(0,r.jsx)(i.Z,{size:"small","aria-label":"settings",className:"card-more-options",sx:{color:"text.secondary"}})]}),(0,r.jsx)(c.Z,{sx:{fontWeight:600,fontSize:"0.875rem"},children:e}),(0,r.jsxs)(n.Z,{sx:{marginTop:1.5,display:"flex",flexWrap:"wrap",marginBottom:1.5,alignItems:"flex-start"},children:[(0,r.jsx)(c.Z,{variant:"h6",sx:{mr:2},children:h}),(0,r.jsx)(c.Z,{component:"sup",variant:"caption",sx:{color:"positive"===p?"success.main":"error.main"},children:x})]}),(0,r.jsx)(c.Z,{variant:"caption",children:a})]})})};e.Z=u,u.defaultProps={color:"primary",trend:"positive"}},98424:function(t,e,a){"use strict";var r=a(5152),n=a.n(r)()((function(){return Promise.all([a.e(4814),a.e(7229)]).then(a.bind(a,47229))}),{loadableGenerated:{webpack:function(){return[47229]}},ssr:!1});e.Z=n},86078:function(t,e,a){"use strict";var r=a(47568),n=a(97582),s=a(85893),o=a(11163),i=a(67294),c=a(5121);e.Z=function(t){var e=t.children,a=(0,o.useRouter)();return(0,i.useEffect)((function(){var t=function(){var t=(0,r.Z)((function(){var t,e,r;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:if(!(t=sessionStorage.getItem("token")))return a.push("/login"),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,c.Z.get("".concat("http://localhost:5000","/api/public/user-type"),{headers:{Authorization:"Bearer ".concat(t)},withCredentials:!0})];case 2:return e=n.sent(),console.log(e.data),"false"===e.data?a.push("/login"):"member"===e.data&&a.push("/user"),[3,4];case 3:return r=n.sent(),console.error("Error checking authentication:",r),a.push("/login"),[3,4];case 4:return[2]}}))}));return function(){return t.apply(this,arguments)}}();t()}),[a]),(0,s.jsx)(s.Fragment,{children:e})}},37884:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return et}});var r=a(14924),n=a(85893),s=a(67294),o=a(5616),i=a(66242),c=a(57610),l=a(63144),u=a(45670),d=a(90948),h=a(40044),p=a(47568),x=a(97582),g=a(5121),f=a(86886),m=a(50135),y=a(87109),Z=a(15861),D=a(44267),j=a(56077),b=(a(41664),a(90629)),v=a(7906),S=a(53816),w=a(53184),P=a(295),k=a(98102),O=a(72882),I=a(70519),F=function(t){if(!t||isNaN(new Date(t)))return"";return new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"numeric",day:"numeric"})},T=function(t){var e=t.data,a=(0,s.useState)(0),r=a[0],o=a[1],i=(0,s.useState)(10),c=i[0],l=i[1];if(!e||!Array.isArray(e)||0===e.length)return(0,n.jsx)("p",{children:"No data available."});return(0,n.jsxs)(b.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,n.jsx)(O.Z,{component:b.Z,children:(0,n.jsxs)(v.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,n.jsx)(w.Z,{children:(0,n.jsxs)(S.Z,{children:[(0,n.jsx)(k.Z,{children:"Product ID"}),(0,n.jsx)(k.Z,{children:"Name"}),(0,n.jsx)(k.Z,{children:"End of Day Quantity"}),(0,n.jsx)(k.Z,{children:"Start of Day Quantity"}),(0,n.jsx)(k.Z,{children:"Input Date"}),(0,n.jsx)(k.Z,{children:"Added By"}),(0,n.jsx)(k.Z,{children:"Usage"})]})}),(0,n.jsx)(P.Z,{children:e.slice(r*c,r*c+c).map((function(t){return(0,n.jsxs)(S.Z,{hover:!0,role:"checkbox",tabIndex:-1,sx:{cursor:"pointer",textDecoration:"none","&:hover":{backgroundColor:"#f5f5f5"},"&:last-of-type td, &:last-of-type th":{border:0}},children:[(0,n.jsx)(k.Z,{component:"th",scope:"row",children:t._id}),(0,n.jsx)(k.Z,{children:t.name}),(0,n.jsx)(k.Z,{children:t.endOfDayQty}),(0,n.jsx)(k.Z,{children:t.startOfDayQty}),(0,n.jsx)(k.Z,{children:F(t.closeDate)}),(0,n.jsx)(k.Z,{children:t.createdBy}),(0,n.jsx)(k.Z,{children:(e=t.startOfDayQty,a=t.endOfDayQty,e-a)})]},t._id);var e,a}))})]})}),(0,n.jsx)(I.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:e.length,rowsPerPage:c,page:r,onPageChange:function(t,e){o(e)},onRowsPerPageChange:function(t){l(+t.target.value),o(0)}})]})},A=a(2734),E=a(78445),N=a(93946),L=a(98424),M=function(t){var e=t.data,a=(t.closeDate,(0,A.Z)()),r=[{dayLabel:"Monday",usage:0},{dayLabel:"Tuesday",usage:0},{dayLabel:"Wednesday",usage:0},{dayLabel:"Thursday",usage:0},{dayLabel:"Friday",usage:0},{dayLabel:"Saturday",usage:0},{dayLabel:"Sunday",usage:0}];e.forEach((function(t){var e,a=(e=t.closeDate,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e).getDay()]),n=t.startOfDayQty-t.endOfDayQty;r.find((function(t){return t.dayLabel===a})).usage+=n}));var s={chart:{type:"line",parentHeightOffset:0,toolbar:{show:!1}},stroke:{width:2,curve:"smooth",colors:[a.palette.primary.main]},markers:{size:5,colors:[a.palette.primary.main],strokeColors:a.palette.background.paper,strokeWidth:2},grid:{strokeDashArray:7,padding:{top:-1,right:0,left:-12,bottom:5}},dataLabels:{enabled:!1},colors:[a.palette.primary.main],xaxis:{categories:r.map((function(t){return t.dayLabel})),tickPlacement:"on",labels:{show:!0,style:{fontSize:"12px"}},axisTicks:{show:!0},axisBorder:{show:!0}},yaxis:{show:!0,tickAmount:4,labels:{offsetX:-17,formatter:function(t){return"".concat(t>999?"".concat((t/1e3).toFixed(0)):t," grams")}}},tooltip:{y:{formatter:function(t){return"".concat(t," grams")}}}};return(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(E.Z,{title:"This Week\u2019s Usage",titleTypographyProps:{sx:{lineHeight:"2rem !important",letterSpacing:"0.15px !important"}},action:(0,n.jsx)(N.Z,{size:"small","aria-label":"settings",className:"card-more-options",sx:{color:"text.secondary"}})}),(0,n.jsx)(D.Z,{sx:{"& .apexcharts-xcrosshairs.apexcharts-active":{opacity:0}},children:(0,n.jsx)(L.Z,{type:"line",height:315,options:s,series:[{data:r.map((function(t){return t.usage}))}]})})]})},_=a(14653),Q=a(89213),z=a(83571),C=a(33049),W=function(){var t=(0,s.useState)([]),e=t[0],a=t[1],r=(0,s.useState)([]),o=r[0],i=r[1],c=(0,s.useState)(""),l=c[0],u=(c[1],(0,s.useState)("")),d=u[0],h=u[1],b=(0,s.useState)(""),v=b[0],S=b[1],w=(0,s.useState)(""),P=w[0],k=w[1],O=(0,s.useState)(""),I=O[0],F=O[1],A=(0,s.useState)(""),E=A[0],N=A[1],L=(0,s.useState)(function(){var t=new Date,e=new Date(t.getTime()-864e5),a=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(a,"-").concat(r,"-").concat(n)}()),W=L[0],U=L[1],B="undefined"!==typeof sessionStorage?sessionStorage.getItem("token"):null;return(0,s.useEffect)((function(){var t=function(){var t=(0,p.Z)((function(){var t,e,r,n,s,o,i,c,l;return(0,x.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),F("0"),N("N/A"),[4,g.Z.get("".concat("http://localhost:5000","/api/protected/reports"),{params:{startDate:W,endDate:W},headers:{Authorization:"Bearer ".concat(B)},withCredentials:!0})];case 1:return t=u.sent(),a(t.data),e=0,t.data.forEach((function(t){var a=t.startOfDayQty-t.endOfDayQty;e+=a})),r=e.toFixed(2),Number.isInteger(e)&&(r=e.toFixed(0)),h(r),n=new Set(t.data.map((function(t){return t.productId}))),s=n.size,o={},t.data.forEach((function(t){var e=t.name,a=t.endOfDayQty;o[e]||(o[e]=0),o[e]+=a})),i=Object.entries(o).sort((function(t,e){return e[1]-t[1]})),c=i[0][0],F(s),N(c),[3,3];case 2:return l=u.sent(),console.error("Error fetching data:",l),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),e=function(){var t=(0,p.Z)((function(){var t,e,a,r,n,s,o;return(0,x.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=new Date(W),e=new Date(t.getTime()-864e5),a="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0")),[4,g.Z.get("".concat("http://localhost:5000","/api/protected/reports"),{params:{startDate:a,endDate:a},headers:{Authorization:"Bearer ".concat(B)},withCredentials:!0})];case 1:return r=i.sent(),n=0,r.data.forEach((function(t){var e=t.startOfDayQty-t.endOfDayQty;n+=e})),s=n.toFixed(2),Number.isInteger(n)&&(s=n.toFixed(0)),S(s),[3,3];case 2:return o=i.sent(),console.error("Error fetching data:",o),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),r=function(){var t=(0,p.Z)((function(){var t,e,a,r,n,s;return(0,x.__generator)(this,(function(o){switch(o.label){case 0:if(o.trys.push([0,2,,3]),t=new Date(W),e=new Date(W),t.setDate(t.getDate()-(t.getDay()+6)%7),a=t.toISOString().split("T")[0],e.setDate(t.getDate()+6),e.getMonth()!==t.getMonth())for(e.setMonth(t.getMonth()+1),e.setDate(1);0!==e.getDay();)e.setDate(e.getDate()+1);return r=e.toISOString().split("T")[0],[4,g.Z.get("".concat("http://localhost:5000","/api/protected/reports"),{params:{startDate:a,endDate:r},headers:{Authorization:"Bearer ".concat(B)},withCredentials:!0})];case 1:return n=o.sent(),i(n.data),[3,3];case 2:return s=o.sent(),console.error("Error fetching barData:",s),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}();t(),r(),e()}),[W]),(0,s.useEffect)((function(){if(""!==d&&""!==v){var t=(d-v)/v*100,e=isFinite(t)?t.toFixed(2):"";Number.isInteger(t)&&(e=Math.floor(t)),k(e)}}),[d,v]),(0,n.jsx)(D.Z,{children:(0,n.jsxs)(f.ZP,{container:!0,spacing:6,sx:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(Z.Z,{variant:"h5",children:"Daily Sales Report"})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(f.ZP,{item:!0,xs:12,sx:{},children:(0,n.jsx)(m.Z,{fullWidth:!0,label:"Date",type:"date",value:W,onChange:function(t){return U(t.target.value)},InputProps:{startAdornment:(0,n.jsx)(y.Z,{position:"start"})},required:!0})})}),(0,n.jsx)(f.ZP,{item:!0,xs:8,children:(0,n.jsx)(M,{data:o,closeDate:l})}),(0,n.jsx)(f.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,n.jsxs)(f.ZP,{container:!0,spacing:6,children:[(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:d,icon:(0,n.jsx)(Q.Z,{}),color:"success",trendNumber:""==P?"":P+"%",trend:P<0?"negative":"positive",title:"Total Usage",subtitle:"Daily Usage"})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:v,title:"Yesterday's Usage",color:"secondary",subtitle:"Daily Usage",icon:(0,n.jsx)(C.Z,{})})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:I,title:"Products",subtitle:"No. of Products sold",icon:(0,n.jsx)(_.Z,{})})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:E,color:"warning",subtitle:"Daily Top Product",title:"Top Product",icon:(0,n.jsx)(z.Z,{})})})]})}),(0,n.jsx)(f.ZP,{item:!0,xs:12,children:(0,n.jsx)(T,{data:e})})]})})},U=a(61238),B=function(){var t=(0,s.useState)([]),e=t[0],a=t[1],r=(0,s.useState)([]),o=r[0],i=r[1],c=(0,s.useState)(""),l=c[0],u=c[1],d=(0,s.useState)(""),h=d[0],b=d[1],v=(0,s.useState)(""),S=v[0],w=v[1],P=(0,s.useState)(""),k=P[0],O=P[1],I=(0,s.useState)(""),F=I[0],A=I[1],E=(0,s.useState)(""),N=E[0],L=E[1],M=(0,s.useState)(function(){var t=new Date,e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(e,"-").concat(a,"-").concat(r)}()),W=M[0],B=M[1],Y="undefined"!==typeof sessionStorage?sessionStorage.getItem("token"):null;return(0,s.useEffect)((function(){var t=function(){var t=(0,p.Z)((function(){var t,e,r,n,s,o,i,c,l,u,d,h,p;return(0,x.__generator)(this,(function(x){switch(x.label){case 0:if(x.trys.push([0,2,,3]),A("0"),L("N/A"),t=new Date(W),e=new Date(W),t.setDate(t.getDate()-(t.getDay()+6)%7),r=t.toISOString().split("T")[0],e.setDate(t.getDate()+6),e.getMonth()!==t.getMonth())for(e.setMonth(t.getMonth()+1),e.setDate(1);0!==e.getDay();)e.setDate(e.getDate()+1);return n=e.toISOString().split("T")[0],[4,g.Z.get("".concat("http://localhost:5000","/api/protected/reports"),{params:{thisis:"fetchdata",startDate:r,endDate:n},headers:{Authorization:"Bearer ".concat(Y)},withCredentials:!0})];case 1:return s=x.sent(),a(s.data),o=0,s.data.forEach((function(t){var e=t.startOfDayQty-t.endOfDayQty;o+=e})),i=o.toFixed(2),Number.isInteger(o)&&(i=o.toFixed(0)),b(i),c=new Set(s.data.map((function(t){return t.productId}))),l=c.size,u={},s.data.forEach((function(t){var e=t.name,a=t.endOfDayQty;u[e]||(u[e]=0),u[e]+=a})),d=Object.entries(u).sort((function(t,e){return e[1]-t[1]})),h=d[0][0],A(l),L(h),[3,3];case 2:return p=x.sent(),console.error("Error fetching data:",p),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),e=function(){var t=(0,p.Z)((function(){var t,e,a,r,n,s,o,c;return(0,x.__generator)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),t=new Date(W),e=(7-t.getDay())%7,a=new Date(t.getTime()+24*e*60*60*1e3),r=a.toISOString().split("T")[0],(n=new Date(W)).setDate(n.getDate()-(n.getDay()+6)%7-42),s=n.toISOString().split("T")[0],[4,g.Z.get("".concat("http://localhost:5000","/api/protected/reports"),{params:{thisis:"fetchbardata",startDate:s,endDate:r},headers:{Authorization:"Bearer ".concat(Y)},withCredentials:!0})];case 1:return o=l.sent(),i(o.data),[3,3];case 2:return c=l.sent(),console.error("Error fetching barData:",c),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),r=function(){var t=(0,p.Z)((function(){var t,e,a,r,n,s,o,i,c,l;return(0,x.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),t=new Date(W),e=t.getDay(),a=new Date(t.getTime()-24*e*60*60*1e3),r=new Date(a.getTime()-5184e5),n="".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"),"-").concat(String(r.getDate()).padStart(2,"0")),s="".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0"),"-").concat(String(a.getDate()).padStart(2,"0")),[4,g.Z.get("".concat("http://localhost:5000","/api/protected/reports"),{thisis:"fetchlastdata",params:{thisis:"lastweek",startDate:n,endDate:s},headers:{Authorization:"Bearer ".concat(Y)},withCredentials:!0})];case 1:return o=u.sent(),i=0,o.data.forEach((function(t){var e=t.startOfDayQty-t.endOfDayQty;i+=e})),c=i.toFixed(2),Number.isInteger(i)&&(c=i.toFixed(0)),w(c),[3,3];case 2:return l=u.sent(),console.error("Error fetching data:",l),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}();t(),e(),r();u(function(t){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=new Date(t).getDay();return e.indexOf(e[a])}(W)),console.log(l)}),[W]),(0,s.useEffect)((function(){if(""!==h&&""!==S){var t=(h-S)/S*100,e=isFinite(t)?t.toFixed(2):"";Number.isInteger(t)&&(e=Math.floor(t)),O(e)}}),[h,S]),(0,n.jsx)(D.Z,{children:(0,n.jsxs)(f.ZP,{container:!0,spacing:6,sx:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(Z.Z,{variant:"h5",children:"Weekly Sales Report"})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(f.ZP,{item:!0,xs:12,sx:{},children:(0,n.jsx)(m.Z,{fullWidth:!0,label:"Date",type:"date",value:W,onChange:function(t){return B(t.target.value)},InputProps:{startAdornment:(0,n.jsx)(y.Z,{position:"start"})},required:!0})})}),(0,n.jsx)(f.ZP,{item:!0,xs:8,children:(0,n.jsx)(U.Z,{data:o,closeDate:W})}),(0,n.jsx)(f.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,n.jsxs)(f.ZP,{container:!0,spacing:6,children:[(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:h,icon:(0,n.jsx)(Q.Z,{}),color:"success",trendNumber:""==k?"":k+"%",trend:k<0?"negative":"positive",title:"Total Usage",subtitle:"Weekly Usage"})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:S,title:"Last Week's Usage",color:"secondary",subtitle:"Weekly Usage",icon:(0,n.jsx)(C.Z,{})})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:F,title:"Products",subtitle:"No. of Products sold",icon:(0,n.jsx)(_.Z,{})})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:N,color:"warning",subtitle:"Weekly Top Product",title:"Top Product",icon:(0,n.jsx)(z.Z,{})})})]})}),(0,n.jsx)(f.ZP,{item:!0,xs:12,children:(0,n.jsx)(T,{data:e,closeDate:W})})]})})},Y=function(t){var e=t.data,a=(t.closeDate,(0,A.Z)()),r=[{monthLabel:"January",usage:0},{monthLabel:"February",usage:0},{monthLabel:"March",usage:0},{monthLabel:"April",usage:0},{monthLabel:"May",usage:0},{monthLabel:"June",usage:0},{monthLabel:"July",usage:0},{monthLabel:"August",usage:0},{monthLabel:"September",usage:0},{monthLabel:"October",usage:0},{monthLabel:"November",usage:0},{monthLabel:"December",usage:0}];e.forEach((function(t){var e,a=(e=t.closeDate,["January","February","March","April","May","June","July","August","September","October","November","December"][new Date(e).getMonth()]),n=t.startOfDayQty-t.endOfDayQty;r.find((function(t){return t.monthLabel===a})).usage+=n}));var s={chart:{type:"line",parentHeightOffset:0,toolbar:{show:!1}},stroke:{width:2,curve:"smooth",colors:[a.palette.primary.main]},markers:{size:5,colors:[a.palette.primary.main],strokeColors:a.palette.background.paper,strokeWidth:2},grid:{strokeDashArray:7,padding:{top:-1,right:0,left:-12,bottom:5}},dataLabels:{enabled:!1},colors:[a.palette.primary.main],xaxis:{categories:r.map((function(t){return t.monthLabel})),tickPlacement:"on",labels:{show:!0,style:{fontSize:"12px"}},axisTicks:{show:!0},axisBorder:{show:!0}},yaxis:{show:!0,tickAmount:4,labels:{offsetX:-17,formatter:function(t){return"".concat(t>999?"".concat((t/1e3).toFixed(0)):t," grams")}}},tooltip:{y:{formatter:function(t){return"".concat(t," grams")}}}};return(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(E.Z,{title:"This Year\u2019s Usage",titleTypographyProps:{sx:{lineHeight:"2rem !important",letterSpacing:"0.15px !important"}},action:(0,n.jsx)(N.Z,{size:"small","aria-label":"settings",className:"card-more-options",sx:{color:"text.secondary"}})}),(0,n.jsx)(D.Z,{sx:{"& .apexcharts-xcrosshairs.apexcharts-active":{opacity:0}},children:(0,n.jsx)(L.Z,{type:"line",height:315,options:s,series:[{data:r.map((function(t){return t.usage}))}]})})]})},H=function(){var t=(0,s.useState)([]),e=t[0],a=t[1],r=(0,s.useState)([]),o=r[0],i=r[1],c=(0,s.useState)(""),l=c[0],u=c[1],d=(0,s.useState)(""),h=d[0],b=d[1],v=(0,s.useState)(""),S=v[0],w=v[1],P=(0,s.useState)(""),k=P[0],O=P[1],I=(0,s.useState)(""),F=I[0],A=I[1],E=(0,s.useState)(""),N=E[0],L=E[1],M=(0,s.useState)(function(){var t=new Date,e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0");return"".concat(e,"-").concat(a)}()),W=M[0],U=M[1],B="undefined"!==typeof sessionStorage?sessionStorage.getItem("token"):null;return(0,s.useEffect)((function(){var t=function(){var t=(0,p.Z)((function(){var t,e,r,n,s,o,i,c,l,u,d,h,p,f,m,y;function Z(t){var e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(e,"-").concat(a,"-").concat(r)}return(0,x.__generator)(this,(function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),A("0"),L("N/A"),t=new Date(W),e=t.getFullYear(),0===(r=t.getMonth()+1)?n=new Date(e-1,11,1):(n=new Date(e,r-1,1),s=new Date(e,r,0)),s||(s=new Date(e,r,0)),o=Z(n),i=Z(s),[4,g.Z.get("".concat("http://localhost:5000","/api/protected/reports"),{params:{this:"fetchdatapak",startDate:o,endDate:i},headers:{Authorization:"Bearer ".concat(B)},withCredentials:!0})];case 1:return c=x.sent(),a(c.data),l=0,c.data.forEach((function(t){var e=t.startOfDayQty-t.endOfDayQty;l+=e})),u=l.toFixed(2),Number.isInteger(l)&&(u=l.toFixed(0)),b(u),d=new Set(c.data.map((function(t){return t.productId}))),h=d.size,p={},c.data.forEach((function(t){var e=t.name,a=t.endOfDayQty;p[e]||(p[e]=0),p[e]+=a})),f=Object.entries(p).sort((function(t,e){return e[1]-t[1]})),m=f[0][0],A(h),L(m),[3,3];case 2:return y=x.sent(),console.error("Error fetching data:",y),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),e=function(){var t=(0,p.Z)((function(){var t,e,a,r,n,s,o,c;function l(t){var e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(e,"-").concat(a,"-").concat(r)}return(0,x.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),t=new Date(W),e=t.getFullYear(),a=new Date(e,0,1),r=new Date(e,11,31),n=l(a),s=l(r),[4,g.Z.get("".concat("http://localhost:5000","/api/protected/reports"),{params:{this:"fetchbar",startDate:n,endDate:s},headers:{Authorization:"Bearer ".concat(B)},withCredentials:!0})];case 1:return o=u.sent(),console.log(n),console.log(s),i(o.data),[3,3];case 2:return c=u.sent(),console.error("Error fetching barData:",c),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),r=function(){var t=(0,p.Z)((function(){var t,e,a,r,n,s,o,i,c,l,u;function d(t){var e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(e,"-").concat(a,"-").concat(r)}return(0,x.__generator)(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),t=new Date(W),e=t.getFullYear(),0===(a=t.getMonth())?(r=new Date(e-1,11,1),n=new Date(e-1,11,31)):(r=new Date(e,a-1,1),n=new Date(e,a,0)),s=d(r),o=d(n),[4,g.Z.get("".concat("http://localhost:5000","/api/protected/reports"),{params:{this:"fetchlast",startDate:s,endDate:o},headers:{Authorization:"Bearer ".concat(B)},withCredentials:!0})];case 1:return i=h.sent(),c=0,i.data.forEach((function(t){var e=t.startOfDayQty-t.endOfDayQty;c+=e})),l=c.toFixed(2),Number.isInteger(c)&&(l=c.toFixed(0)),w(l),[3,3];case 2:return u=h.sent(),console.error("Error fetching data:",u),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}();t(),e(),r();u(function(t){var e=["January","February","March","April","May","June","July","August","September","October","November","December"],a=new Date(t).getMonth();return e.indexOf(e[a])}(W)),console.log(l)}),[W]),(0,s.useEffect)((function(){if(""!==h&&""!==S){var t=(h-S)/S*100,e=isFinite(t)?t.toFixed(2):"";Number.isInteger(t)&&(e=Math.floor(t)),O(e)}}),[h,S]),(0,n.jsx)(D.Z,{children:(0,n.jsxs)(f.ZP,{container:!0,spacing:6,sx:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(Z.Z,{variant:"h5",children:"Monthly Sales Report"})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(f.ZP,{item:!0,xs:12,sx:{},children:(0,n.jsx)(m.Z,{fullWidth:!0,label:"Month",type:"month",value:W,onChange:function(t){return U(t.target.value)},InputProps:{startAdornment:(0,n.jsx)(y.Z,{position:"start"})},required:!0})})}),(0,n.jsx)(f.ZP,{item:!0,xs:8,children:(0,n.jsx)(Y,{data:o,closeDate:W})}),(0,n.jsx)(f.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,n.jsxs)(f.ZP,{container:!0,spacing:6,children:[(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:h,icon:(0,n.jsx)(Q.Z,{}),color:"success",trendNumber:""===k?"":k+"%",trend:k<0?"negative":"positive",title:"Total Usage",subtitle:"Monthly Usage"})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:S,title:"Last Month's Usage",color:"secondary",subtitle:"Monthly Usage",icon:(0,n.jsx)(C.Z,{})})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:F,title:"Products",subtitle:"No. of Products sold",icon:(0,n.jsx)(_.Z,{})})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:N,color:"warning",subtitle:"Monthly Top Product",title:"Top Product",icon:(0,n.jsx)(z.Z,{})})})]})}),(0,n.jsx)(f.ZP,{item:!0,xs:12,children:(0,n.jsx)(T,{data:e,closeDate:W})})]})})},J=a(86078),R=(a(18698),a(46160)),X=function(t){var e=t.data,a=t.closeDate,r=(0,A.Z)(),s=new Date(a).getFullYear(),o=Array.from({length:5},(function(t,a){var r=s-4+a,n=e.filter((function(t){return new Date(t.closeDate).getFullYear()===r})).reduce((function(t,e){return t+(e.startOfDayQty-e.endOfDayQty)}),0);return{yearLabel:r.toString(),usage:n||0}})),c={chart:{type:"line",parentHeightOffset:0,toolbar:{show:!1}},stroke:{width:2,curve:"smooth",colors:[r.palette.primary.main]},markers:{size:5,colors:[r.palette.primary.main],strokeColors:r.palette.background.paper,strokeWidth:2},grid:{strokeDashArray:7,padding:{top:-1,right:0,left:-12,bottom:5}},dataLabels:{enabled:!1},colors:[r.palette.primary.main],xaxis:{categories:o.map((function(t){return t.yearLabel})),tickPlacement:"on",labels:{show:!0,style:{fontSize:"12px"}},axisTicks:{show:!0},axisBorder:{show:!0}},yaxis:{show:!0,tickAmount:4,labels:{offsetX:-17,formatter:function(t){return"".concat(t>999?"".concat((t/1e3).toFixed(0)):t," grams")}}},tooltip:{y:{formatter:function(t){return"".concat(t," grams")}}}};return(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(E.Z,{title:"Last 5 Years Usage",titleTypographyProps:{sx:{lineHeight:"2rem !important",letterSpacing:"0.15px !important"}},action:(0,n.jsx)(N.Z,{size:"small","aria-label":"settings",className:"card-more-options",sx:{color:"text.secondary"},children:(0,n.jsx)(R.Z,{})})}),(0,n.jsx)(D.Z,{sx:{"& .apexcharts-xcrosshairs.apexcharts-active":{opacity:0}},children:(0,n.jsx)(L.Z,{type:"line",height:315,options:c,series:[{data:o.map((function(t){return t.usage}))}]})})]})},q=function(){var t=(0,s.useState)([]),e=t[0],a=t[1],r=(0,s.useState)([]),o=r[0],i=r[1],c=(0,s.useState)(function(){var t=(new Date).getFullYear();return"".concat(t)}()),l=c[0],u=c[1],d=(0,s.useState)(""),h=d[0],b=d[1],v=(0,s.useState)(""),S=v[0],w=v[1],P=(0,s.useState)(""),k=P[0],O=P[1],I=(0,s.useState)(""),F=I[0],A=I[1],E=(0,s.useState)(""),N=E[0],L=E[1],M="undefined"!==typeof sessionStorage?sessionStorage.getItem("token"):null;return(0,s.useEffect)((function(){var t=function(){var t=(0,p.Z)((function(){var t,e,r,n,s,o,i,c,u,d,h,p,f,m;return(0,x.__generator)(this,(function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),A("0"),L("N/A"),t=new Date(l).getFullYear(),e=new Date(t,0,1),r=new Date(t,11,31),n=e.toISOString().split("T")[0],s=r.toISOString().split("T")[0],[4,g.Z.get("".concat("http://localhost:5000","/api/protected/reports"),{params:{this:"fetchdatapak",startDate:n,endDate:s},headers:{Authorization:"Bearer ".concat(M)},withCredentials:!0})];case 1:return o=x.sent(),a(o.data),i=0,o.data.forEach((function(t){var e=t.startOfDayQty-t.endOfDayQty;i+=e})),c=i.toFixed(2),Number.isInteger(i)&&(c=i.toFixed(0)),b(c),u=new Set(o.data.map((function(t){return t.productId}))),d=u.size,h={},o.data.forEach((function(t){var e=t.name,a=t.endOfDayQty;h[e]||(h[e]=0),h[e]+=a})),p=Object.entries(h).sort((function(t,e){return e[1]-t[1]})),f=p[0][0],A(d),L(f),[3,3];case 2:return m=x.sent(),console.error("Error fetching data:",m),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),e=function(){var t=(0,p.Z)((function(){var t,e,a,r,n,s,o,c;return(0,x.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),t=new Date(l),e=t.getFullYear(),a=new Date(e-4,0,1),r=new Date(e,11,31),n=a.toISOString().split("T")[0],s=r.toISOString().split("T")[0],[4,g.Z.get("".concat("http://localhost:5000","/api/protected/reports"),{params:{this:"fetchbar",startDate:n,endDate:s},headers:{Authorization:"Bearer ".concat(M)},withCredentials:!0})];case 1:return o=u.sent(),i(o.data),[3,3];case 2:return c=u.sent(),console.error("Error fetching barData:",c),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),r=function(){var t=(0,p.Z)((function(){var t,e,a,r,n,s,o,i,c,u;return(0,x.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),t=new Date(l).getFullYear(),e=t-1,a=new Date(e,0,1),r=new Date(e,11,31),n=a.toISOString().split("T")[0],s=r.toISOString().split("T")[0],[4,g.Z.get("".concat("http://localhost:5000","/api/protected/reports"),{params:{this:"fetchlast",startDate:n,endDate:s},headers:{Authorization:"Bearer ".concat(M)},withCredentials:!0})];case 1:return o=d.sent(),i=0,o.data.forEach((function(t){var e=t.startOfDayQty-t.endOfDayQty;i+=e})),c=i.toFixed(2),Number.isInteger(i)&&(c=i.toFixed(0)),w(c),[3,3];case 2:return u=d.sent(),console.error("Error fetching data:",u),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}();t(),e(),r()}),[l]),(0,s.useEffect)((function(){if(""!==h&&""!==S){var t=(h-S)/S*100,e=isFinite(t)?t.toFixed(2):"";Number.isInteger(t)&&(e=Math.floor(t)),O(e)}}),[h,S]),(0,n.jsx)(D.Z,{children:(0,n.jsxs)(f.ZP,{container:!0,spacing:6,sx:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(Z.Z,{variant:"h5",children:"Annual Sales Report"})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(f.ZP,{item:!0,xs:12,sx:{},children:(0,n.jsx)(m.Z,{fullWidth:!0,label:"Year",type:"number",value:l,onChange:function(t){return u(t.target.value)},InputProps:{startAdornment:(0,n.jsx)(y.Z,{position:"start"})},required:!0})})}),(0,n.jsx)(f.ZP,{item:!0,xs:8,children:(0,n.jsx)(X,{data:o,closeDate:l})}),(0,n.jsx)(f.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,n.jsxs)(f.ZP,{container:!0,spacing:6,children:[(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:h,icon:(0,n.jsx)(Q.Z,{}),color:"success",trendNumber:""===k?"":k+"%",trend:k<0?"negative":"positive",title:"Total Usage",subtitle:"Annual Usage"})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:S,title:"Last Year's Usage",color:"secondary",subtitle:"Annual Usage",icon:(0,n.jsx)(C.Z,{})})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:F,title:"Products",subtitle:"No. of Products sold",icon:(0,n.jsx)(_.Z,{})})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:N,color:"warning",subtitle:"Annual Top Product",title:"Top Product",icon:(0,n.jsx)(z.Z,{})})})]})}),(0,n.jsx)(f.ZP,{item:!0,xs:12,children:(0,n.jsx)(T,{data:e})})]})})},G=function(t){var e=t.data,a=t.startDate,r=t.endDate,s=(0,A.Z)(),o=function(t,e){for(var a=[],r=new Date(t),n=new Date(e).getTime();r<=n;)a.push(new Date(r).toISOString().split("T")[0]),r.setDate(r.getDate()+1);return a}(a,r).map((function(t){var e=new Date(t);return"".concat(e.getDate()," ").concat(e.toLocaleString("default",{month:"short"}))})),c=o.map((function(t){return{label:t,usage:0}}));e.forEach((function(t){var e=function(t){var e=new Date(t),a=e.getDate(),r=e.toLocaleString("default",{month:"short"});return"".concat(a," ").concat(r)}(t.closeDate),a=o.findIndex((function(t){return t===e}));if(console.log(e),console.log(o),-1!==a){var r=t.startOfDayQty-t.endOfDayQty;c[a].usage+=r}}));var l={chart:{type:"line",parentHeightOffset:0,toolbar:{show:!1}},stroke:{width:2,curve:"smooth",colors:[s.palette.primary.main]},markers:{size:5,colors:[s.palette.primary.main],strokeColors:s.palette.background.paper,strokeWidth:2},grid:{strokeDashArray:7,padding:{top:-1,right:0,left:-12,bottom:5}},dataLabels:{enabled:!1},colors:[s.palette.primary.main],xaxis:{categories:o,tickPlacement:"on",labels:{show:!0,style:{fontSize:"12px"}},axisTicks:{show:!0},axisBorder:{show:!0}},yaxis:{show:!0,tickAmount:4,labels:{offsetX:-17,formatter:function(t){return"".concat(t>999?"".concat((t/1e3).toFixed(0)):t," grams")}}},tooltip:{y:{formatter:function(t){return"".concat(t," grams")}}}};return(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(E.Z,{title:"Usage (".concat(a," - ").concat(r,")"),titleTypographyProps:{sx:{lineHeight:"2rem !important",letterSpacing:"0.15px !important"}},action:(0,n.jsx)(N.Z,{size:"small","aria-label":"settings",className:"card-more-options",sx:{color:"text.secondary"}})}),(0,n.jsx)(D.Z,{sx:{"& .apexcharts-xcrosshairs.apexcharts-active":{opacity:0}},children:(0,n.jsx)(L.Z,{type:"line",height:315,options:l,series:[{data:c.map((function(t){return t.usage}))}]})})]})},K=function(){var t=new Date,e=new Date(t.getTime()-864e5),a=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(a,"-").concat(r,"-").concat(n)},V=function(){var t=(0,s.useState)([]),e=t[0],a=t[1],r=(0,s.useState)([]),o=(r[0],r[1],(0,s.useState)("")),i=(o[0],o[1],(0,s.useState)("")),c=i[0],l=i[1],u=(0,s.useState)(""),d=(u[0],u[1],(0,s.useState)("")),h=d[0],b=(d[1],(0,s.useState)("")),v=b[0],S=b[1],w=(0,s.useState)(""),P=w[0],k=w[1],O=(0,s.useState)(K()),I=O[0],F=O[1],A=(0,s.useState)(K()),E=A[0],N=A[1],L="undefined"!==typeof sessionStorage?sessionStorage.getItem("token"):null;return(0,s.useEffect)((function(){var t=function(){var t=(0,p.Z)((function(){var t,e,r,n,s,o,i,c,u;return(0,x.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,g.Z.get("".concat("http://localhost:5000","/api/protected/reports"),{params:{startDate:I,endDate:E},headers:{Authorization:"Bearer ".concat(L)},withCredentials:!0})];case 1:return t=d.sent(),a(t.data),e=0,t.data.forEach((function(t){var a=t.startOfDayQty-t.endOfDayQty;e+=a})),r=e.toFixed(2),Number.isInteger(e)&&(r=e.toFixed(0)),l(r),n=new Set(t.data.map((function(t){return t.productId}))),s=n.size,o={},t.data.forEach((function(t){var e=t.name,a=t.endOfDayQty;o[e]||(o[e]=0),o[e]+=a})),i=Object.entries(o).sort((function(t,e){return e[1]-t[1]})),c=i[0][0],S(s),k(c),[3,3];case 2:return u=d.sent(),console.error("Error fetching data:",u),[3,3];case 3:return[2]}}))}));return function(){return t.apply(this,arguments)}}();t()}),[I,E]),(0,n.jsx)(D.Z,{children:(0,n.jsxs)(f.ZP,{container:!0,spacing:6,sx:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(Z.Z,{variant:"h5",children:"Daily Sales Report"})}),(0,n.jsx)(f.ZP,{item:!0,xs:3,children:(0,n.jsx)(m.Z,{fullWidth:!0,label:"Start Date",type:"date",value:I,onChange:function(t){return F(t.target.value)},InputProps:{startAdornment:(0,n.jsx)(y.Z,{position:"start"})},required:!0})}),(0,n.jsx)(f.ZP,{item:!0,xs:3,children:(0,n.jsx)(m.Z,{fullWidth:!0,label:"End Date",type:"date",value:E,onChange:function(t){return N(t.target.value)},InputProps:{startAdornment:(0,n.jsx)(y.Z,{position:"start"})},required:!0})}),(0,n.jsx)(f.ZP,{item:!0,xs:8,children:(0,n.jsx)(G,{data:e,startDate:I,endDate:E})}),(0,n.jsx)(f.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,n.jsxs)(f.ZP,{container:!0,spacing:6,children:[(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:c,icon:(0,n.jsx)(Q.Z,{}),color:"success",trendNumber:""==h?"":h+"%",trend:h<0?"negative":"positive",title:"Total Usage",subtitle:"Usage"})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:v,title:"Products",subtitle:"No. of Products sold",icon:(0,n.jsx)(_.Z,{})})}),(0,n.jsx)(f.ZP,{item:!0,xs:6,children:(0,n.jsx)(j.Z,{stats:P,color:"warning",subtitle:" Top Product",title:"Top Product",icon:(0,n.jsx)(z.Z,{})})})]})}),(0,n.jsx)(f.ZP,{item:!0,xs:12,children:(0,n.jsx)(T,{data:e})})]})})},$=(0,d.ZP)(h.Z)((function(t){var e,a=t.theme;return e={},(0,r.Z)(e,a.breakpoints.down("md"),{minWidth:100}),(0,r.Z)(e,a.breakpoints.down("sm"),{minWidth:67}),e})),tt=(0,d.ZP)("span")((function(t){var e=t.theme;return(0,r.Z)({lineHeight:1.71,fontSize:"0.875rem",marginLeft:e.spacing(2.4)},e.breakpoints.down("md"),{display:"none"})})),et=function(){var t=(0,s.useState)("daily"),e=t[0],a=t[1];return(0,n.jsx)(J.Z,{children:(0,n.jsx)(i.Z,{children:(0,n.jsxs)(u.ZP,{value:e,children:[(0,n.jsxs)(c.Z,{onChange:function(t,e){a(e)},"aria-label":"report-settings tabs",sx:{borderBottom:function(t){return"1px solid ".concat(t.palette.divider)}},children:[(0,n.jsx)($,{value:"daily",label:(0,n.jsx)(o.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(tt,{children:"Daily"})})}),(0,n.jsx)($,{value:"weekly",label:(0,n.jsx)(o.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(tt,{children:"Weekly"})})}),(0,n.jsx)($,{value:"monthly",label:(0,n.jsx)(o.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(tt,{children:"Monthly"})})}),(0,n.jsx)($,{value:"annual",label:(0,n.jsx)(o.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(tt,{children:"Annual"})})}),(0,n.jsx)($,{value:"date-range",label:(0,n.jsx)(o.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(tt,{children:"Custom Date"})})})]}),(0,n.jsx)(l.Z,{sx:{p:0},value:"daily",children:(0,n.jsx)(W,{})}),(0,n.jsx)(l.Z,{sx:{p:0},value:"weekly",children:(0,n.jsx)(B,{})}),(0,n.jsx)(l.Z,{sx:{p:0},value:"monthly",children:(0,n.jsx)(H,{})}),(0,n.jsx)(l.Z,{sx:{p:0},value:"annual",children:(0,n.jsx)(q,{})}),(0,n.jsx)(l.Z,{sx:{p:0},value:"date-range",children:(0,n.jsx)(V,{})})]})})})}},61238:function(t,e,a){"use strict";var r=a(85893),n=(a(67294),a(2734)),s=a(66242),o=a(78445),i=a(93946),c=a(44267),l=a(46160),u=a(98424);e.Z=function(t){var e=t.data,a=t.closeDate,d=(0,n.Z)(),h=function(t){var e=new Date(t);e.setDate(t.getDate()-t.getDay()+1);var a=new Date(e);a.setDate(e.getDate()+6);var r={month:"short",day:"numeric"};return"".concat(e.toLocaleDateString("en-US",r)," - ").concat(a.toLocaleDateString("en-US",r))},p=Array.from({length:7},(function(t,e){var r=new Date(a),n=new Date(r);n.setDate(r.getDate()-r.getDay()+1),n.setDate(n.getDate()-7*e);var s=new Date(n),o=new Date(s);return o.setDate(s.getDate()+6),{weekLabel:h(s),startDate:s,endDate:o,usage:0}})).reverse();e.forEach((function(t){var e=new Date(t.closeDate),a=p.find((function(t){return e>=t.startDate&&e<=t.endDate}));if(a){var r=t.startOfDayQty-t.endOfDayQty;a.usage+=r}}));var x={chart:{type:"line",parentHeightOffset:0,toolbar:{show:!1}},stroke:{width:2,curve:"smooth",colors:[d.palette.primary.main]},markers:{size:5,colors:[d.palette.primary.main],strokeColors:d.palette.background.paper,strokeWidth:2},grid:{strokeDashArray:7,padding:{top:-1,right:0,left:-12,bottom:5}},dataLabels:{enabled:!1},colors:[d.palette.primary.main],xaxis:{categories:p.map((function(t){return t.weekLabel})),tickPlacement:"on",labels:{show:!0,style:{fontSize:"12px"}},axisTicks:{show:!0},axisBorder:{show:!0}},yaxis:{show:!0,tickAmount:4,labels:{offsetX:-17,formatter:function(t){return"".concat(t>999?"".concat((t/1e3).toFixed(0)):t," grams")}}},tooltip:{y:{formatter:function(t){return"".concat(t," grams")}}}};return(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(o.Z,{title:"Last 7 Weeks Usage",titleTypographyProps:{sx:{lineHeight:"2rem !important",letterSpacing:"0.15px !important"}},action:(0,r.jsx)(i.Z,{size:"small","aria-label":"settings",className:"card-more-options",sx:{color:"text.secondary"},children:(0,r.jsx)(l.Z,{})})}),(0,r.jsx)(c.Z,{sx:{"& .apexcharts-xcrosshairs.apexcharts-active":{opacity:0}},children:(0,r.jsx)(u.Z,{type:"line",height:315,options:x,series:[{data:p.map((function(t){return t.usage}))}]})})]})}}},function(t){t.O(0,[2657,7709,8360,3678,9254,519,200,696,1181,7876,9774,2888,179],(function(){return e=65283,t(t.s=e);var e}));var e=t.O();_N_E=e}]);
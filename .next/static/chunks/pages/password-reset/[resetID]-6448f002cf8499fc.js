(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7234],{75518:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/password-reset/[resetID]",function(){return s(63834)}])},15064:function(e,t,s){"use strict";var n=s(85893),r=s(90948),o=s(5616),a=(0,r.ZP)(o.Z)((function(e){return{height:"100vh","& .content-center":{display:"flex",minHeight:"100vh",alignItems:"center",justifyContent:"center",padding:e.theme.spacing(5)},"& .content-right":{display:"flex",minHeight:"100vh",overflowX:"hidden",position:"relative"}}}));t.Z=function(e){var t=e.children;return(0,n.jsx)(a,{className:"layout-wrapper",children:(0,n.jsx)(o.Z,{className:"app-content",sx:{minHeight:"100vh",overflowX:"hidden",position:"relative"},children:t})})}},63834:function(e,t,s){"use strict";s.r(t);var n=s(47568),r=s(14924),o=s(26042),a=s(69396),i=s(97582),c=s(85893),l=s(67294),u=s(5121),d=s(59738),h=s.n(d),m=(s(41664),s(11163)),f=s(5616),p=s(69417),g=s(47312),w=s(15861),x=s(93946),Z=s(44267),v=s(94054),j=s(57709),P=s(90948),b=s(2734),y=s(66242),C=s(87109),_=s(60856),k=s(95898),N=s(42218),S=s(25193),D=s(15064),I=s(79525);h().config();var z=(0,P.ZP)(y.Z)((function(e){var t=e.theme;return(0,r.Z)({},t.breakpoints.up("sm"),{width:"28rem"})})),E=((0,P.ZP)("a")((function(e){return{fontSize:"0.875rem",textDecoration:"none",color:e.theme.palette.primary.main}})),(0,P.ZP)(_.Z)((function(e){return{"& .MuiFormControlLabel-label":{fontSize:"0.875rem",color:e.theme.palette.text.secondary}}})),function(){var e=(0,l.useState)({password:"",confirmPassword:"",showPassword:!1,showConfirmPassword:!1}),t=e[0],s=e[1],r=((0,b.Z)(),(0,m.useRouter)()),d=(0,l.useState)(""),h=d[0],P=d[1],y=(0,l.useState)(""),_=y[0],D=y[1],E=(0,l.useState)(""),F=E[0],R=E[1],B=(0,l.useState)(null),W=(B[0],B[1],function(e){e.preventDefault()}),X=function(){var e=(0,n.Z)((function(e,t){var s,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e?[4,u.Z.post("".concat("http://localhost:5000","/api/reset-password/").concat(e),{newPassword:t})]:(console.error("Reset token is missing."),[2,!1]);case 1:return 200===(s=r.sent()).status&&s.data&&s.data.success?(console.log("Password reset successful:",s.data.message),[2,!0]):(console.error("Password reset failed:",s.data.message),[2,!1]);case 2:return n=r.sent(),console.error("Password reset failed:",n),[2,!1];case 3:return[2]}}))}));return function(t,s){return e.apply(this,arguments)}}(),A=function(){var e=(0,n.Z)((function(e){var t;return(0,i.__generator)(this,(function(s){switch(s.label){case 0:return e.preventDefault(),h!==_?(R("Passwords do not match"),[2]):(t=r.query.resetID)?[4,X(t,h)]:(console.error("Reset token is missing."),R("Reset token is missing."),[2]);case 1:return s.sent()?r.push("/login"):R("Failed to reset password"),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,c.jsxs)(f.Z,{className:"content-center",children:[(0,c.jsx)(z,{sx:{zIndex:1},children:(0,c.jsxs)(Z.Z,{sx:{padding:function(e){return"".concat(e.spacing(12,9,7)," !important")}},children:[(0,c.jsx)(f.Z,{sx:{mb:0,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,c.jsx)("img",{src:"/images/logos/bornhigh.svg",alt:"bornhigh logo"})}),(0,c.jsx)(f.Z,{sx:{mb:6},children:(0,c.jsxs)(w.Z,{variant:"h5",sx:{fontWeight:600,marginBottom:1.5,textAlign:"center"},children:["Set Your ",S.Z.templateName," Password"]})}),(0,c.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:A,children:[(0,c.jsxs)(v.Z,{fullWidth:!0,sx:{marginBottom:4},children:[(0,c.jsx)(g.Z,{htmlFor:"auth-reset-password",children:"New Password"}),(0,c.jsx)(j.Z,{label:"Password",value:h,id:"auth-reset-password",onChange:function(e){return P(e.target.value)},type:t.showPassword?"text":"password",endAdornment:(0,c.jsx)(C.Z,{position:"end",children:(0,c.jsx)(x.Z,{edge:"end",onClick:function(){s((0,a.Z)((0,o.Z)({},t),{showPassword:!t.showPassword}))},onMouseDown:W,"aria-label":"toggle password visibility",children:t.showPassword?(0,c.jsx)(k.Z,{}):(0,c.jsx)(N.Z,{})})})})]}),(0,c.jsxs)(v.Z,{fullWidth:!0,sx:{marginBottom:4},children:[(0,c.jsx)(g.Z,{htmlFor:"auth-confirm-password",children:"Confirm Password"}),(0,c.jsx)(j.Z,{label:"Confirm Password",value:_,id:"auth-confirm-password",onChange:function(e){return D(e.target.value)},type:t.showConfirmPassword?"text":"password",endAdornment:(0,c.jsx)(C.Z,{position:"end",children:(0,c.jsx)(x.Z,{edge:"end",onClick:function(){s((0,a.Z)((0,o.Z)({},t),{showConfirmPassword:!t.showConfirmPassword}))},onMouseDown:W,"aria-label":"toggle confirm password visibility",children:t.showConfirmPassword?(0,c.jsx)(k.Z,{}):(0,c.jsx)(N.Z,{})})})})]}),F&&(0,c.jsx)("div",{className:"text-red-800 ",children:F}),(0,c.jsx)(p.Z,{fullWidth:!0,size:"large",variant:"contained",sx:{marginBottom:7},type:"submit",children:"Reset Password"})]})]})}),(0,c.jsx)(I.Z,{})]})});E.getLayout=function(e){return(0,c.jsx)(D.Z,{children:e})},t.default=E},79525:function(e,t,s){"use strict";var n=s(85893),r=s(67294),o=s(61730),a=s(90948),i=s(2734),c=(0,a.ZP)("img")((function(){return{bottom:0,zIndex:-1,width:"100%",position:"absolute"}})),l=(0,a.ZP)("img")((function(){return{left:0,bottom:0,position:"absolute"}})),u=(0,a.ZP)("img")((function(){return{right:0,bottom:0,position:"absolute"}}));t.Z=function(e){var t=e.image1,s=e.image2,a=(0,i.Z)();return(0,o.Z)(a.breakpoints.down("md"))?null:(0,n.jsxs)(r.Fragment,{children:[t||(0,n.jsx)(l,{alt:"tree",src:"/images/pages/auth-v1-tree.png"}),(0,n.jsx)(c,{alt:"mask",src:"/images/pages/auth-v1-mask-".concat(a.palette.mode,".png")}),s||(0,n.jsx)(u,{alt:"tree-2",src:"/images/pages/auth-v1-tree-2.png"})]})}},76647:function(){}},function(e){e.O(0,[3714,7709,3678,1620,9709,9774,2888,179],(function(){return t=75518,e(e.s=t);var t}));var t=e.O();_N_E=t}]);